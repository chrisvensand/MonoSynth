(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{15:function(e,t,a){},16:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),r=a(8),l=a.n(r),o=a(1),i=a(2),c=a(4),p=a(3),u=a(5),h=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(p.a)(t).call(this,e))).startDrag=function(e){e.preventDefault();var t=e.target.getBoundingClientRect(),n={x:t.left+t.width/2,y:t.top+t.height/2},s=function(e){a.currentDeg=a.getDeg(e.clientX,e.clientY,n),a.currentDeg===a.startAngle&&a.currentDeg--;var t=Math.floor(a.convertRange(a.startAngle,a.endAngle,a.props.min,a.props.max,a.currentDeg)),s=(a.currentDeg-44)/271;console.log(s),a.setState({deg:a.currentDeg}),a.props.modifyPreset(s),a.props.onChange(t)};document.addEventListener("mousemove",s),document.addEventListener("mouseup",function(e){document.removeEventListener("mousemove",s)})},a.getDeg=function(e,t,n){var s=e-n.x,r=t-n.y,l=180*Math.atan(r/s)/Math.PI;return l+=s<0&&r>=0||s<0&&r<0?90:270,Math.min(Math.max(a.startAngle,l),a.endAngle)},a.convertRange=function(e,t,a,n,s){return(s-e)*(n-a)/(t-e)+a},a.dcpy=function(e){return JSON.parse(JSON.stringify(e))},a.fullAngle=e.degrees,a.startAngle=(360-e.degrees)/2,a.endAngle=a.startAngle+e.degrees,a.margin=.15*e.size,a.currentDeg=Math.floor(a.convertRange(e.min,e.max,a.startAngle,a.endAngle,e.value)),a.state={deg:a.currentDeg},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e={width:this.props.size,height:this.props.size},t=this.dcpy(e);return t.transform="rotate("+this.state.deg+"deg)",s.a.createElement("div",{className:"knob-controller"},s.a.createElement("div",{className:"knob-outer",onMouseDown:this.startDrag},s.a.createElement("div",{className:"knob-inner"},s.a.createElement("div",{className:"grip"})),s.a.createElement("img",{style:t,src:"./assets/Knob.png",alt:"Knob"})))}}]),t}(s.a.Component),m=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(p.a)(t).call(this,e))).handleChange=function(e){a.setState({value:e})},a.handlePresetModification=function(e){a.props.modifyPreset(a.props.setting,e)},a.state={value:0},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"returnCorrectTags",value:function(e,t){var a="string-knob-label";return e||(a=this.props.label),s.a.createElement("div",{className:this.props.name},s.a.createElement("img",{src:"./assets/Knob.png",alt:"Knob"}),s.a.createElement(h,{className:"knob-controller",modifyPreset:this.handlePresetModification,numTicks:25,degrees:270,min:1,max:100,value:30,onChange:this.handleChange}),s.a.createElement("label",{className:a},t))}},{key:"render",value:function(){var e=this.props.value;return"string"===typeof e?this.returnCorrectTags(!0,e):this.returnCorrectTags(!1,e)}}]),t}(s.a.Component),d=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(a=Object(c.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(s)))).handlePresetModification=function(e,t){a.props.modifyPreset("oscillator",e,t)},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"oscillator",onClick:this.handleClick,tabIndex:"0"},s.a.createElement("div",{className:"panel-label-left"},"Oscillator"),s.a.createElement("div",{className:"knob-box"},s.a.createElement("label",{className:"wave-label"},"Wave"),s.a.createElement(m,{setting:"type",name:"wave-knob",value:this.props.settings.type,modifyPreset:this.handlePresetModification}),s.a.createElement("label",{className:"detune-label"},"Detune"),s.a.createElement(m,{setting:"detune",label:"oscillator-content",name:"detune-knob",value:this.props.settings.detune,modifyPreset:this.handlePresetModification}),s.a.createElement("label",{className:"phase-label"},"Phase"),s.a.createElement(m,{setting:"phase",label:"oscillator-content",name:"phase-knob",value:this.props.settings.phase,modifyPreset:this.handlePresetModification})))}}]),t}(s.a.Component),f=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(p.a)(t).call(this,e))).handlePresetModification=function(e,t){"filter-envelope-box"===a.props.type?a.props.modifyPreset("filterEnvelope",e,t):a.props.modifyPreset("envelope",e,t)},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e="filter-envelope-box"===this.props.type?"F":"A";return s.a.createElement("div",{className:this.props.type},s.a.createElement("label",{className:"envelope-label"},e),s.a.createElement("label",{className:"attack-label"},"Attack"),s.a.createElement(m,{name:"attack-knob",label:"envelope-content",parent:"envelope",value:this.props.settings.attack,setting:"attack",modifyPreset:this.handlePresetModification}),s.a.createElement("label",{className:"decay-label"},"Decay"),s.a.createElement(m,{name:"decay-knob",label:"envelope-content",parent:"envelope",value:this.props.settings.decay,setting:"decay",modifyPreset:this.handlePresetModification}),s.a.createElement("label",{className:"sustain-label"},"Sustain"),s.a.createElement(m,{name:"sustain-knob",label:"envelope-content",parent:"envelope",value:this.props.settings.sustain,setting:"sustain",modifyPreset:this.handlePresetModification}),s.a.createElement("label",{className:"release-label"},"Release"),s.a.createElement(m,{name:"release-knob",label:"envelope-content",parent:"envelope",value:this.props.settings.release,setting:"release",modifyPreset:this.handlePresetModification}))}}]),t}(s.a.Component),v=function(e){function t(){return Object(o.a)(this,t),Object(c.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"envelope-generators"},s.a.createElement("div",{className:"panel-label-center"},"Envelope Generators"),s.a.createElement("div",{className:"knob-box"},s.a.createElement(f,{type:"filter-envelope-box",settings:this.props.filterSettings,modifyPreset:this.props.modifyPreset}),s.a.createElement(f,{type:"amplitude-envelope-box",settings:this.props.envelopeSettings,modifyPreset:this.props.modifyPreset})))}}]),t}(s.a.Component),y=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(a=Object(c.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(s)))).handlePresetModification=function(e,t){a.props.modifyPreset("filter",e,t)},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"filter"},s.a.createElement("div",{className:"panel-label-center"},"Filter"),s.a.createElement("div",{className:"knob-box"},s.a.createElement("label",{className:"frequency-label"},"Frequency"),s.a.createElement(m,{name:"frequency-knob",label:"filter-content",value:this.props.settings.frequency,setting:"frequency",modifyPreset:this.handlePresetModification}),s.a.createElement("label",{className:"type-label"},"Type"),s.a.createElement(m,{name:"type-knob",value:this.props.settings.type,setting:"type",modifyPreset:this.handlePresetModification}),s.a.createElement("label",{className:"rolloff-label"},"Rolloff"),s.a.createElement(m,{name:"rolloff-knob",label:"filter-content",value:this.props.settings.rolloff,setting:"rolloff",modifyPreset:this.handlePresetModification})))}}]),t}(s.a.Component),b=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(a=Object(c.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(s)))).handlePresetModification=function(e,t){a.props.modifyPreset("output",e,t)},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"output"},s.a.createElement("div",{className:"panel-label-right"},"Output"),s.a.createElement("div",{className:"knob-box"},s.a.createElement("label",{className:"volume-label"},"Volume"),s.a.createElement(m,{name:"volume-knob",label:"volume-content",value:this.props.settings,setting:"volume",modifyPreset:this.handlePresetModification})))}}]),t}(s.a.Component),g=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(p.a)(t).call(this,e))).state={active:!1},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.props.currentPreset===this.props.name&&this.setState({active:!0})}},{key:"componentDidUpdate",value:function(e){this.props.currentPreset!==e.currentPreset&&(this.props.name!==this.props.currentPreset&&this.props.name!==e.currentPreset||this.setState(function(e){return{active:!e.active}}))}},{key:"formatedPresetNumber",value:function(){return this.props.presetNumber<10?"00"+String(this.props.presetNumber):this.props.presetNumber<100?"0"+String(this.props.presetNumber):String(this.props.presetNumber)}},{key:"render",value:function(){var e=this.state.active?"active":"not-active";return s.a.createElement("li",{id:this.props.name,className:e,onClick:this.props.handlePresetChange,onKeyDown:this.props.handlePresetChange,tabIndex:"0"},s.a.createElement("div",{className:"contents"},s.a.createElement("div",{className:"number"},this.formatedPresetNumber()),s.a.createElement("div",{className:"name"},this.props.name)))}}]),t}(s.a.Component),E=function(e){function t(){return Object(o.a)(this,t),Object(c.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return s.a.createElement("ol",{className:"preset-vertical-menu"},this.props.presetNames.map(function(t,a){return s.a.createElement(g,{key:a,name:t,presetNumber:a,currentPreset:e.props.currentPreset,handlePresetChange:e.props.handlePresetChange})}))}}]),t}(s.a.Component),P=function(e){function t(){return Object(o.a)(this,t),Object(c.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"presets"},s.a.createElement("div",{className:"preset-content"},s.a.createElement("div",{className:"preset-header"},s.a.createElement("label",{className:"preset-label"},"Preset: ",this.props.currentPreset)),s.a.createElement(E,{presetNames:this.props.presetNames,currentPreset:this.props.currentPreset,handlePresetChange:this.props.handlePresetChange})))}}]),t}(s.a.Component),k=a(6),O=a.n(k),N=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(p.a)(t).call(this,e))).state={synth:new O.a.MonoSynth(a.props.settings).toMaster()},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidUpdate",value:function(e){this.props.isPressed!==e.isPressed&&(this.props.isPressed?this.state.synth.triggerAttack(this.props.frequency):this.state.synth.triggerRelease()),this.props.settings!==e.settings&&(this.state.synth.dispose(),this.setState({synth:new O.a.MonoSynth(this.props.settings).toMaster()}))}},{key:"render",value:function(){var e=this.props.isPressed?"pressed-key":"key";return s.a.createElement("button",{id:this.props.letter,className:e,onMouseDown:this.props.handleMouseDown,onMouseUp:this.props.handleMouseUp},this.props.letter)}}]),t}(s.a.Component),j=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(p.a)(t).call(this,e))).handleKeyDownEvent=function(e){a.pressKey(e.key,!0)},a.handleKeyUpEvent=function(e){a.pressKey(e.key,!1)},a.handleMouseDown=function(e){a.pressKey(e.currentTarget.id,!0)},a.handleMouseUp=function(e){a.pressKey(e.currentTarget.id,!1)},a.pressKey=function(e,t){var n=e.toUpperCase();if(n in a.state.isPressed&&a.state.isPressed[n]!==t){var s=a.state.isPressed;s[n]=!s[n],a.setState({isPressed:s})}},a.handleChangePitch=function(e){console.log(e)},a.state={pitch:a.props.pitch,isPressed:{A:!1,S:!1,D:!1,F:!1,G:!1,H:!1,J:!1,K:!1,L:!1,";":!1,Q:!1,W:!1,E:!1,R:!1,T:!1,Y:!1,U:!1,I:!1,O:!1,P:!1},frequency:{A:261.6256,S:293.6648,D:329.6276,F:349.2282,G:391.9954,H:440,J:493.8833,K:523.2511,L:587.3295,";":659.2551,Q:277.1826,W:311.127,E:339.2863,R:369.9944,T:415.3047,Y:466.1638,U:508.3551,I:554.3653,O:622.254,P:678.5727}},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"input-box",onKeyDown:this.handleKeyDownEvent,onKeyUp:this.handleKeyUpEvent,tabIndex:"0"},s.a.createElement("div",{className:"keyboard"},s.a.createElement("div",{className:"top-key-box"},["Q","W","E","R","T","Y","U","I","O","P"].map(function(t,a){return s.a.createElement(N,{key:a,letter:t,settings:e.props.preset,isPressed:e.state.isPressed[t],frequency:e.state.frequency[t],handleMouseDown:e.handleMouseDown,handleMouseUp:e.handleMouseUp})})),s.a.createElement("div",{className:"bottom-key-box"},["A","S","D","F","G","H","J","K","L",";"].map(function(t,a){return s.a.createElement(N,{key:a,letter:t,settings:e.props.preset,isPressed:e.state.isPressed[t],frequency:e.state.frequency[t],handleMouseDown:e.handleMouseDown,handleMouseUp:e.handleMouseUp})}))))}}]),t}(s.a.Component),M=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(p.a)(t).call(this,e))).handlePresetChange=function(e){"click"===e.type&&a.changePreset(e.currentTarget.id)},a.handlePitchChange=function(e){"up"===e.currentTarget.id&&a.state.currentPitch<5&&a.setState(function(e){return{currentPitch:e.currentPitch+1}}),"down"===e.currentTarget.id&&a.state.currentPitch>1&&a.setState(function(e){return{currentPitch:e.currentPitch-1}})},a.handlePresetModification=function(e,t,n){var s=a.state.presets;if("filterEnvelope"!==e&&"envelope"!==e&&"detune"!==t&&"phase"!==t||(s[a.state.currentPreset][e][t]=5*Math.ceil(100*n)/100),"oscillator"===e&&"type"===t){var r=Math.ceil(17*n);s[a.state.currentPreset][e][t]=["sine","square","triangle","sawtooth","pulse","fmsine","fmsquare","fmtriangle","fmsawtooth","pwm","amsine","amsquare","amtriangle","amsawtooth","fatsine","fatsquare","fattriangle","fatsawtooth"][r]}if("frequency"===t&&(s[a.state.currentPreset][e][t]=Math.ceil(940*n)),"filter"===e&&"type"===t){var l=Math.ceil(7*n);s[a.state.currentPreset][e][t]=["lowpass","highpass","bandpass","lowshelf","highshelf","notch","allpass","peaking"][l]}if("rolloff"===t){var o=Math.floor(3*n);s[a.state.currentPreset][e][t]=[-12,-24,-48,-96][o]}"output"===e&&(s[a.state.currentPreset][t]=Math.ceil(20*(n-.5))),a.setState({presets:s})},a.state={currentPreset:"Arp",presets:{Arp:{volume:-6,oscillator:{detune:0,type:"square",phase:0},filter:{frequency:350,type:"lowpass",rolloff:-12},envelope:{attack:.1,decay:.1,sustain:.8,release:.2},filterEnvelope:{attack:.1,decay:.2,sustain:.5,release:.6}},"Lost Woods":{volume:-6,oscillator:{detune:.3,type:"sine",phase:2},filter:{frequency:620,type:"lowpass",rolloff:-48},envelope:{attack:.1,decay:.5,sustain:.4,release:.5},filterEnvelope:{attack:.5,decay:.1,sustain:.9,release:5}},"Space Bounce":{volume:-6,oscillator:{detune:2,type:"fatsawtooth",phase:1},filter:{frequency:320,type:"highpass",rolloff:-48},envelope:{attack:.7,decay:.3,sustain:.3,release:.8},filterEnvelope:{attack:.9,decay:.7,sustain:.6,release:3}},"Bit Organ":{volume:-6,oscillator:{detune:.2,type:"pwm",phase:.5},filter:{frequency:320,type:"peaking",rolloff:-48},envelope:{attack:3,decay:.7,sustain:.4,release:.2},filterEnvelope:{attack:1,decay:.4,sustain:.8,release:4}},Earthbound:{volume:-6,oscillator:{detune:.1,type:"amsawtooth",phase:2},filter:{frequency:120,type:"highshelf",rolloff:-12},envelope:{attack:1,decay:.9,sustain:.1,release:.3},filterEnvelope:{attack:.2,decay:.1,sustain:.9,release:5}},"Earthbound 2":{volume:-6,oscillator:{detune:.1,type:"fmsquare",phase:.2},filter:{frequency:640,type:"allpass",rolloff:-12},envelope:{attack:1,decay:.9,sustain:.1,release:.3},filterEnvelope:{attack:1,decay:.4,sustain:.1,release:.5}},Nebulae:{volume:-6,oscillator:{detune:.5,type:"fatsquare4",phase:.5},filter:{frequency:340,type:"lowpass",rolloff:-48},envelope:{attack:2,decay:1.4,sustain:.5,release:.3},filterEnvelope:{attack:.4,decay:.9,sustain:.9,release:2}},"Event Horizon":{volume:-6,oscillator:{detune:.5,type:"pulse",phase:.1},filter:{frequency:240,type:"notch",rolloff:-24},envelope:{attack:1,decay:0,sustain:0,release:.1},filterEnvelope:{attack:.5,decay:.4,sustain:.1,release:.5}},Dawn:{volume:-6,oscillator:{detune:.5,type:"fmsawtooth",phase:.1},filter:{frequency:10,type:"lowshelf",rolloff:-12},envelope:{attack:1,decay:.5,sustain:.1,release:.5},filterEnvelope:{attack:1,decay:.4,sustain:.5,release:.5}},"Gem Recoil":{volume:-6,oscillator:{detune:.5,type:"amsawtooth",phase:.1},filter:{frequency:320,type:"highpass",rolloff:-48},envelope:{attack:.2,decay:.5,sustain:.9,release:.5},filterEnvelope:{attack:.5,decay:.4,sustain:.9,release:.1}},"0x56E2F4":{volume:-6,oscillator:{detune:.5,type:"fatsquare",phase:.7},filter:{frequency:520,type:"highpass",rolloff:-48},envelope:{attack:.2,decay:.2,sustain:.5,release:1},filterEnvelope:{attack:.5,decay:.8,sustain:.5,release:1}},"Deep Space":{volume:-6,oscillator:{detune:.5,type:"pwm",phase:.7},filter:{frequency:220,type:"lowpass",rolloff:-48},envelope:{attack:10,decay:5,sustain:.2,release:5},filterEnvelope:{attack:10,decay:5,sustain:.2,release:5}},"Cutoff Again":{volume:-6,oscillator:{detune:10,type:"sawtooth",phase:.5},filter:{frequency:420,type:"allpass",rolloff:-12},envelope:{attack:3,decay:1,sustain:.1,release:3},filterEnvelope:{attack:3,decay:5,sustain:.1,release:5}}},presetNames:["Arp","Lost Woods","Space Bounce","Bit Organ","Earthbound","Earthbound 2","Nebulae","Event Horizon","Dawn","Gem Recoil","0x56E2F4","Deep Space","Cutoff Again"],currentPitch:3},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"changePreset",value:function(e){this.setState({currentPreset:e})}},{key:"render",value:function(){var e=this.state.presets[this.state.currentPreset];return s.a.createElement("div",{className:"synthesizer"},s.a.createElement("img",{className:"wood-background",src:"./assets/light_wood_panel.jpg",alt:"wood_panel"}),s.a.createElement("div",{className:"bottom-panel"},s.a.createElement(j,{preset:this.state.presets[this.state.currentPreset],pitch:this.state.currentPitch}),s.a.createElement(P,{presetNames:this.state.presetNames,currentPreset:this.state.currentPreset,handlePresetChange:this.handlePresetChange})),s.a.createElement("div",{className:"top-panel"},s.a.createElement(d,{settings:e.oscillator,modifyPreset:this.handlePresetModification}),s.a.createElement(v,{envelopeSettings:e.envelope,filterSettings:e.filterEnvelope,modifyPreset:this.handlePresetModification}),s.a.createElement(y,{settings:e.filter,modifyPreset:this.handlePresetModification}),s.a.createElement(b,{settings:e.volume,modifyPreset:this.handlePresetModification})))}}]),t}(s.a.Component),w=(a(15),function(e){function t(){return Object(o.a)(this,t),Object(c.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"main-view"},s.a.createElement("a",{className:"github-ref",href:"https://github.com/chrisvensand"},s.a.createElement("img",{className:"picture",src:"./assets/Github-Mark-Light-64px.png",alt:"github"})),s.a.createElement("a",{className:"personal-ref",href:"https://chrisvensand.com"},s.a.createElement("img",{className:"picture",src:"./assets/head.png",alt:"Personal Portfolio"})),s.a.createElement(M,{keyPressed:!0}))}}]),t}(s.a.Component));l.a.render(s.a.createElement(w,null),document.getElementById("root"))},9:function(e,t,a){e.exports=a(16)}},[[9,1,2]]]);
//# sourceMappingURL=main.340ffffb.chunk.js.map